<!-- @format -->

{{ define "content3" }}

<!-- Dashboard Layout -->
<div class="flex min-h-screen">
	<!-- Sidebar Toggle Button (visible on mobile) -->
	<button
		id="sidebar-toggle"
		class="md:hidden fixed top-4 left-4 z-50 p-2 rounded-full text-[var(--text-primary)] hover:text-blue-500 focus:outline-none"
	>
		<svg
			id="sidebar-icon"
			class="w-6 h-6"
			fill="none"
			stroke="currentColor"
			viewBox="0 0 24 24"
			xmlns="http://www.w3.org/2000/svg"
		>
			<path
				stroke-linecap="round"
				stroke-linejoin="round"
				stroke-width="2"
				d="M4 6h16M4 12h16m-7 6h7"
			></path>
		</svg>
	</button>

	<!-- Sidebar -->
	<aside
		id="sidebar"
		class="w-64 bg-[var(--bg-secondary)] text-[var(--text-primary)] p-6 shadow-lg fixed inset-y-0 left-0 transform -translate-x-full md:transform-none md:static transition-transform duration-300 ease-in-out z-40"
	>
		<div class="mb-8">
			<a href="/dashboard">
				<img
					src="/static/logo1.png"
					alt="SynergySphere Logo"
					class="w-32 mx-auto transition-transform duration-300 hover:scale-105"
					style="filter: var(--logo-filter)"
				/>
			</a>
		</div>
		<nav>
			<ul class="space-y-4">
				<li>
					<a
						href="/dashboard"
						class="flex items-center text-[var(--text-primary)] hover:text-blue-500 transition-colors duration-200"
					>
						<svg
							class="w-5 h-5 mr-3"
							fill="none"
							stroke="currentColor"
							viewBox="0 0 24 24"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
							></path>
						</svg>
						Dashboard
					</a>
				</li>
				<li>
					<a
						href="#"
						class="flex items-center text-[var(--text-primary)] hover:text-blue-500 transition-colors duration-200"
					>
						<svg
							class="w-5 h-5 mr-3"
							fill="none"
							stroke="currentColor"
							viewBox="0 0 24 24"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
							></path>
						</svg>
						Profile
					</a>
				</li>
				<li>
					<a
						href="#"
						class="flex items-center text-[var(--text-primary)] hover:text-blue-500 transition-colors duration-200"
					>
						<svg
							class="w-5 h-5 mr-3"
							fill="none"
							stroke="currentColor"
							viewBox="0 0 24 24"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
							></path>
						</svg>
						Projects
					</a>
				</li>
				<li>
					<a
						href="/logout"
						class="flex items-center text-[var(--text-primary)] hover:text-blue-500 transition-colors duration-200"
					>
						<svg
							class="w-5 h-5 mr-3"
							fill="none"
							stroke="currentColor"
							viewBox="0 0 24 24"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
							></path>
						</svg>
						Logout
					</a>
				</li>
			</ul>
		</nav>
	</aside>

	<!-- Main Content -->
	<main class="flex-1 p-4 sm:p-6 md:p-8 bg-[var(--bg-primary)]">
		<!-- Header -->
		<header
			class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 space-y-4 sm:space-y-0"
		>
			<h1 class="text-xl sm:text-2xl font-semibold text-[var(--text-primary)]">
				Welcome, {{ .UserName }}
			</h1>
			<div class="flex items-center space-x-3 sm:space-x-4">
				<button
					id="theme-toggle-header"
					class="p-2 rounded-full text-[var(--text-secondary)] hover:text-blue-500 focus:outline-none"
					aria-label="Toggle theme"
				>
					<svg
						id="theme-icon-header"
						class="w-5 h-5"
						fill="none"
						stroke="currentColor"
						viewBox="0 0 24 24"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
						></path>
					</svg>
				</button>
				<div class="relative">
					<button
						class="flex items-center text-[var(--text-primary)] hover:text-blue-500 focus:outline-none"
					>
						<img
							src="/static/avatar.png"
							alt="User Avatar"
							class="w-8 h-8 sm:w-10 sm:h-10 rounded-full mr-2"
						/>
						<span class="text-sm sm:text-base">{{ .UserName }}</span>
					</button>
				</div>
			</div>
		</header>

		<!-- Stats Cards -->
		<div
			class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8"
		>
			<div class="bg-[var(--bg-secondary)] p-4 sm:p-6 rounded-lg shadow-md">
				<h3 class="text-base sm:text-lg font-medium text-[var(--text-primary)]">
					Total Projects
				</h3>
				<p class="text-2xl sm:text-3xl font-bold text-blue-500 mt-2">24</p>
			</div>
			<div class="bg-[var(--bg-secondary)] p-4 sm:p-6 rounded-lg shadow-md">
				<h3 class="text-base sm:text-lg font-medium text-[var(--text-primary)]">
					Active Tasks
				</h3>
				<p class="text-2xl sm:text-3xl font-bold text-blue-500 mt-2">15</p>
			</div>
			<div class="bg-[var(--bg-secondary)] p-4 sm:p-6 rounded-lg shadow-md">
				<h3 class="text-base sm:text-lg font-medium text-[var(--text-primary)]">
					Team Members
				</h3>
				<p class="text-2xl sm:text-3xl font-bold text-blue-500 mt-2">8</p>
			</div>
		</div>

		<!-- Recent Activity -->
		<div class="bg-[var(--bg-secondary)] p-4 sm:p-6 rounded-lg shadow-md">
			<h3
				class="text-base sm:text-lg font-medium text-[var(--text-primary)] mb-4"
			>
				Recent Activity
			</h3>
			<ul class="space-y-3 sm:space-y-4">
				<li
					class="flex items-center text-[var(--text-secondary)] text-sm sm:text-base"
				>
					<svg
						class="w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 text-blue-500"
						fill="none"
						stroke="currentColor"
						viewBox="0 0 24 24"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M5 13l4 4L19 7"
						></path>
					</svg>
					John completed task "Design Homepage" - 2 hours ago
				</li>
				<li
					class="flex items-center text-[var(--text-secondary)] text-sm sm:text-base"
				>
					<svg
						class="w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 text-blue-500"
						fill="none"
						stroke="currentColor"
						viewBox="0 0 24 24"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M5 13l4 4L19 7"
						></path>
					</svg>
					Sarah added a new project "Q2 Campaign" - 5 hours ago
				</li>
				<li
					class="flex items-center text-[var(--text-secondary)] text-sm sm:text-base"
				>
					<svg
						class="w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 text-blue-500"
						fill="none"
						stroke="currentColor"
						viewBox="0 0 24 24"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M5 13l4 4L19 7"
						></path>
					</svg>
					Team meeting scheduled for tomorrow - 1 day ago
				</li>
			</ul>
		</div>
	</main>
</div>

<script>
	// Sidebar toggle for mobile
	const sidebarToggle = document.getElementById('sidebar-toggle');
	const sidebar = document.getElementById('sidebar');
	const sidebarIcon = document.getElementById('sidebar-icon');

	if (sidebarToggle && sidebar && sidebarIcon) {
		sidebarToggle.addEventListener('click', () => {
			const isOpen = !sidebar.classList.contains('-translate-x-full');
			if (isOpen) {
				sidebar.classList.add('-translate-x-full');
				sidebarIcon.innerHTML = `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>`;
			} else {
				sidebar.classList.remove('-translate-x-full');
				sidebarIcon.innerHTML = `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>`;
			}
		});
	}

	// Theme toggle for header
	const themeToggleHeader = document.getElementById('theme-toggle-header');
	const themeIconHeader = document.getElementById('theme-icon-header');
	if (themeToggleHeader && themeIconHeader) {
		themeToggleHeader.addEventListener('click', () => {
			const htmlElement = document.documentElement;
			const currentTheme = htmlElement.getAttribute('data-theme');
			const newTheme = currentTheme === 'light' ? 'dark' : 'light';
			htmlElement.setAttribute('data-theme', newTheme);
			localStorage.setItem('theme', newTheme);
			const iconPath =
				newTheme === 'light'
					? `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>`
					: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>`;
			themeIconHeader.innerHTML = iconPath;
		});
	}
</script>
{{ end }}

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>{{ .Title }}</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<script src="https://cdn.tailwindcss.com"></script>
		<style>
			[data-theme='light'] {
				--bg-primary: #f7fbff;
				--bg-secondary: #ffffff;
				--text-primary: #1f2937;
				--text-secondary: #4b5563;
				--input-bg: #f3f4f6;
				--input-border: #d1d5db;
				--input-placeholder: #9ca3af;
				--shadow: rgba(0, 0, 0, 0.1);
				--logo-filter: brightness(0.9) contrast(1.1);
			}
			[data-theme='dark'] {
				--bg-primary: #1f2937;
				--bg-secondary: #111827;
				--text-primary: #d1d5db;
				--text-secondary: #9ca3af;
				--input-bg: #374151;
				--input-border: #4b5563;
				--input-placeholder: #6b7280;
				--shadow: rgba(0, 0, 0, 0.3);
				--logo-filter: brightness(1.2) contrast(1.2);
			}
		</style>
	</head>
	<body class="bg-[var(--bg-primary)] text-gray-900">
		{{ template "content3" . }}
	</body>
	<script>
		// Theme Toggle
		const htmlElement = document.documentElement;
		const themeToggle = document.getElementById('theme-toggle');
		const mobileThemeToggle = document.getElementById('mobile-theme-toggle');
		const themeIcon = document.getElementById('theme-icon');
		const mobileThemeIcon = document.getElementById('mobile-theme-icon');

		// Load saved theme from localStorage
		const savedTheme = localStorage.getItem('theme') || 'light';
		htmlElement.setAttribute('data-theme', savedTheme);
		updateThemeIcon(savedTheme);

		function updateThemeIcon(theme) {
			const iconPath =
				theme === 'light'
					? `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>`
					: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>`;
			themeIcon.innerHTML = iconPath;
			mobileThemeIcon.innerHTML = iconPath;
		}

		[themeToggle, mobileThemeToggle].forEach((toggle) => {
			toggle.addEventListener('click', () => {
				const currentTheme = htmlElement.getAttribute('data-theme');
				const newTheme = currentTheme === 'light' ? 'dark' : 'light';
				htmlElement.setAttribute('data-theme', newTheme);
				localStorage.setItem('theme', newTheme);
				updateThemeIcon(newTheme);
			});
		});
	</script>
</html>
